<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TOC Example - Table of Contents Demo</title>
    <link rel="stylesheet" href="toc-styles.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 75rem;
            margin: 0 auto;
            padding: 1.25rem;
            background: #f8f9fa;
        }
        
        .container {
            display: grid;
            grid-template-columns: 18.75rem 1fr;
            gap: 2.5rem;
            background: white;
            border-radius: .75rem;
            box-shadow: 0 .25rem .375rem rgba(0, 0, 0, 0.1);
            min-height: 100vh;
        }
        
        .sidebar {
            background: #f8f9fa;
            border-right: .0625rem solid #e9ecef;
            position: sticky;
            top: 0;
            height: 100vh;
            overflow-y: auto;
            align-self: start;
        }
        
        .sidebar-inner {
            padding: 1.875rem 1.25rem;
        }
        
        .content {
            padding: 2.5rem;
        }
        
        h1 {
            color: #2c3e50;
            border-bottom: .1875rem solid #3498db;
            padding-bottom: .625rem;
            margin-bottom: 1.875rem;
        }
        
        h2 {
            color: #34495e;
            margin-top: 2.5rem;
            margin-bottom: 1.25rem;
            padding-left: .9375rem;
            border-left: .25rem solid #3498db;
        }
        
        h3 {
            color: #7f8c8d;
            margin-top: 1.875rem;
            margin-bottom: .9375rem;
        }
        
        p {
            margin-bottom: .9375rem;
            text-align: justify;
        }
        
        .highlight {
            background: #fff3cd;
            padding: .9375rem;
            border-radius: .375rem;
            border-left: .25rem solid #ffc107;
            margin: 1.25rem 0;
        }
        
        .code-block {
            background: #f8f9fa;
            border: .0625rem solid #e9ecef;
            border-radius: .375rem;
            padding: .9375rem;
            font-family: 'Courier New', monospace;
            margin: .9375rem 0;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <aside class="sidebar">
            <div class="sidebar-inner">
                <h3>Table of Contents</h3>
                <div data-toc-container></div>
            </div>
        </aside>
        
        <main class="content" data-toc-content>
            <h1>Table of Contents JavaScript Library</h1>
            
            <p>This is a demonstration of the Table of Contents (TOC) JavaScript library. The library automatically generates a navigation sidebar based on the headings in your content, and provides smooth scrolling with center-aligned positioning.</p>
            
            <div class="highlight">
                <strong>Note:</strong> Click on any item in the sidebar to see the smooth scrolling behavior that centers the heading in the viewport.
            </div>
            
            <h2>Features</h2>
            
            <p>The TOC library includes several powerful features:</p>
            
            <h3>Automatic Generation</h3>
            <p>The library automatically scans your content for headings (h1, h2, h3, h4, h5, h6) and generates a hierarchical table of contents. No manual configuration required.</p>
            
            <h3>Smart Active Tracking</h3>
            <p>As you scroll through the page, the library intelligently tracks which heading is currently in the center of the viewport and highlights the corresponding TOC item.</p>
            
            <h3>Smooth Scrolling</h3>
            <p>When you click on a TOC link, the page smoothly scrolls to position the heading in the center of the viewport, providing an optimal reading experience.</p>
            
            <h3>Responsive Design</h3>
            <p>The TOC adapts to different screen sizes and maintains usability across desktop and mobile devices.</p>
            
            <h2>Installation</h2>
            
            <p>Getting started with the TOC library is simple:</p>
            
            <h3>CDN Installation</h3>
            <div class="code-block">
&lt;script src="https://cdn.jsdelivr.net/gh/studiostarum/toc@main/toc-script.js"&gt;&lt;/script&gt;
&lt;link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/studiostarum/toc@main/toc-styles.css"&gt;
            </div>
            
            <h3>HTML Structure</h3>
            <p>Add the required data attributes to your HTML:</p>
            
            <div class="code-block">
&lt;div data-toc-container&gt;&lt;/div&gt;
&lt;main data-toc-content&gt;
    &lt;h1&gt;Your Content&lt;/h1&gt;
    &lt;h2&gt;Section 1&lt;/h2&gt;
    &lt;p&gt;Content here...&lt;/p&gt;
&lt;/main&gt;
            </div>
            
            <h2>Configuration Options</h2>
            
            <p>The library supports several configuration options to customize its behavior:</p>
            
            <h3>Content Selector</h3>
            <p>Specify which element contains your content headings. Default: <code>[data-toc-content]</code></p>
            
            <h3>TOC Container</h3>
            <p>Define where the table of contents should be generated. Default: <code>[data-toc-container]</code></p>
            
            <h3>Scroll Offset</h3>
            <p>Adjust the scroll offset for fine-tuning the positioning. Default: 5rem</p>
            
            <h2>Advanced Usage</h2>
            
            <p>For more advanced use cases, you can initialize the TOC with custom options:</p>
            
            <div class="code-block">
const toc = new TableOfContents({
    contentSelector: '.my-content',
    tocContainerSelector: '.my-toc',
    scrollOffset: 100
});
            </div>
            
            <h3>Debug Mode</h3>
            <p>Enable debug mode to see visual indicators of how the active heading detection works:</p>
            
            <div class="code-block">
// Set DEBUG_CROSSHAIR to true in the script
const DEBUG_CROSSHAIR = true;
            </div>
            
            <p>When debug mode is enabled, you'll see red crosshairs showing the viewport center and can press <kbd>Ctrl+D</kbd> to toggle the debug overlay.</p>
            
            <h2>Browser Support</h2>
            
            <p>The TOC library is built with modern web standards and supports:</p>
            
            <ul>
                <li>Chrome 60+</li>
                <li>Firefox 55+</li>
                <li>Safari 12+</li>
                <li>Edge 79+</li>
            </ul>
            
            <h2>Performance</h2>
            
            <p>The library is optimized for performance with:</p>
            
            <h3>Efficient Scroll Handling</h3>
            <p>Uses <code>requestAnimationFrame</code> to throttle scroll events and prevent performance issues.</p>
            
            <h3>Minimal DOM Manipulation</h3>
            <p>Generates the TOC structure once and only updates active states during scrolling.</p>
            
            <h3>Lightweight</h3>
            <p>The entire library is under 10KB minified, ensuring fast loading times.</p>
            
            <h2>Customization</h2>
            
            <p>The TOC can be styled using CSS to match your design:</p>
            
            <h3>Basic Styling</h3>
            <p>All TOC elements have semantic class names for easy styling:</p>
            
            <ul>
                <li><code>.toc-list</code> - The main list container</li>
                <li><code>.toc-item</code> - Individual TOC items</li>
                <li><code>.toc-link</code> - Clickable links</li>
                <li><code>.toc-active</code> - Currently active item</li>
            </ul>
            
            <h3>Level-based Styling</h3>
            <p>Items are automatically assigned level classes (<code>toc-level-1</code>, <code>toc-level-2</code>, etc.) for hierarchical styling.</p>
            
            <h2>Conclusion</h2>
            
            <p>The Table of Contents library provides a seamless way to add navigation to your content. With its automatic generation, smart active tracking, and smooth scrolling, it enhances the user experience without requiring complex setup or maintenance.</p>
            
            <div class="highlight">
                <strong>Try it out:</strong> Scroll through this page and watch how the sidebar highlights the current section. Click on any sidebar item to see the smooth scrolling in action!
            </div>
        </main>
    </div>
    
    <script src="toc-script.js"></script>
</body>
</html>
